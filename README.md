# 🎮 游戏策划Agent（酸奶）

一个基于 Gemini API 的智能策划辅助工具，具备生成标准化策划案和基于 Reflection 架构优化策划案的功能。

## ✨ 功能特性

### 1. 生成策划案
- 根据用户输入的功能描述，自动生成包含 10 个标准章节的策划案
- 严格遵循中文输出规范，无英文标题
- 使用数字层级格式（1、2、3... 或 1.1、1.2...）
- 自动进行 AI 复检清单检查

### 2. 优化策划案（Reflection 架构）
- **Step 1**: 基于复检清单对旧策划案进行初始修正
- **Step 2**: 多轮 Reflection 循环优化
  - 开发人员角色：提出尖锐问题和技术挑战
  - 策划角色：针对问题进行修改完善
- **Step 3**: AI 自动进行最终复检清单检查
- 支持自定义迭代轮次（1-10轮）

### 3. 汇报助手
- 将碎片化的工作信息转化为结构化汇报文案
- 专门用于向领导同步工作事项
- 输入三个维度的信息：
  - 📌 **当前问题**：描述背景和痛点
  - 💡 **解决方案**：阐述计划采取的措施
  - 🎯 **预期结果**：说明期望达成的效果
- 输出遵循"背景-行动-结果"的逻辑结构
- 支持流式输出和思考过程展示

### 4. 周报助手 ✨New
- 将零散的日报/工作记录汇总为专业周报
- 智能去重与合并：不按时间流水账罗列，自动合并同一事项的不同进展
- 分类归纳：按业务属性分类（策略调整、功能迭代、运营配置等）
- 输出格式：
  - 一级标题使用【标题】格式
  - 二级要点使用 ○关键词：格式
- 纯文本输出，不使用 LaTeX 格式

### 5. 白皮书助手 ✨New
- 专为 PUBGM WoW模式 版本文档撰写
- 将简短的功能关键词扩写为标准功能陈述
- 严格句式结构：`[序号]. 新增[功能名称]功能，支持[机制]，用于[场景]。`
- 使用专业术语（可视化编程、自定义UI、武装AI等）
- 简洁专业，只陈述事实

### 6. 标准化输出结构策划案包含以下 10 个章节：
1. 功能概述
2. 战略定位
3. 用户场景
4. 功能规格
5. AI处理逻辑
6. 容错设计
7. 验收标准
8. 能力边界
9. 技术依赖
10. 版本规划

### 7. AI 复检清单
每次输出策划案时，AI 会自动检查：
- ✅ 通过 / ⚠️ 部分满足 / ❌ 缺失
- 提供具体改进建议
- 给出总体评价

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 配置 API Key

#### 方式一：网页界面配置（推荐本地使用）
直接在网页左侧侧边栏输入您的 Gemini API Key 即可使用。

#### 方式二：Secrets 配置（推荐云端部署）
1. 本地开发时，在项目根目录创建 `.streamlit/secrets.toml` 文件：
```toml
GOOGLE_API_KEY = "your-api-key-here"
```

2. Streamlit Cloud 部署时，在 Settings → Secrets 中添加：
```toml
GOOGLE_API_KEY = "your-api-key-here"
```

### 3. 运行应用

```bash
streamlit run app.py
```

应用将在浏览器中自动打开，默认地址：`http://localhost:8501`

## ☁️ 云端部署（Streamlit Cloud）

### 部署步骤

1. **准备 GitHub 仓库**
   - 确保仓库包含 `app.py` 和 `requirements.txt`
   - 不要将 `.streamlit/secrets.toml` 提交到仓库

2. **注册 Streamlit Cloud**
   - 访问 [share.streamlit.io](https://share.streamlit.io/)
   - 使用 GitHub 账号登录

3. **部署应用**
   - 点击 "New app"
   - 选择仓库、分支和主文件（app.py）
   - 点击 "Deploy!"

4. **配置 Secrets**
   - 部署后进入应用设置
   - 在 Settings → Secrets 中添加：
   ```toml
   GOOGLE_API_KEY = "your-api-key-here"
   ```

### 支持的 Secrets 变量
- `GOOGLE_API_KEY` - Google Gemini API 密钥
- `GEMINI_API_KEY` - 备选名称（二选一）

## 📋 使用说明

### 生成策划案
1. 在功能选择中选择 "生成策划案"
2. 在文本框中输入功能描述
3. 点击 "🚀 生成策划案" 按钮
4. 等待生成完成，查看策划案和 AI 复检结果
5. 可下载 Markdown 格式的策划案

### 优化策划案
1. 在功能选择中选择 "优化策划案"
2. 在"原策划案"文本框中粘贴需要优化的策划案
3. 在"修改意见"文本框中输入优化方向
4. 设置迭代轮次（默认 3 轮）
5. 点击 "🔄 开始优化" 按钮
6. 观察每轮的开发人员提问和策划优化过程
7. 查看最终优化结果和 AI 复检结果

### 汇报助手
1. 在功能选择中选择 "汇报助手"
2. 填写三个输入框：
   - **当前问题**：描述当前遇到的问题或背景
   - **解决方案**：描述计划采取的措施
   - **预期结果**：描述期望达成的效果
3. 点击 "📝 生成汇报" 按钮
4. 查看生成的结构化汇报文案
5. 可下载 TXT 格式的汇报文案

### 周报助手
1. 在功能选择中选择 "周报助手"
2. 在文本框中输入本周日报或工作记录
   - 可按天分隔，也可整体输入
   - 包含工作内容、进展、结果等
3. 点击 "📝 生成周报" 按钮
4. 查看生成的专业周报
5. 可下载 TXT 格式的周报

### 白皮书助手
1. 在功能选择中选择 "白皮书助手"
2. 在输入框中输入功能关键词（如：动画生成、自定义UI）
3. 点击 "📝 生成功能描述" 按钮
4. 查看生成的标准功能陈述
5. 可下载 TXT 格式的功能描述

## 📁 项目结构

```
project agent/
├── app.py                              # 主应用文件
├── requirements.txt                    # 依赖列表
├── README.md                           # 项目说明
└── .streamlit/
    └── secrets.toml.example            # Secrets 配置示例
```

## 🔧 技术栈

- **前端框架**: Streamlit
- **AI 模型**: Google Gemini 3 pro
- **SDK**: google-genai

## 📦 依赖

```
streamlit>=1.28.0
google-genai>=1.0.0
```

## ⚠️ 注意事项

1. 请确保已正确配置 Gemini API Key
2. API 调用需要网络连接
3. 优化策划案功能会进行多轮 API 调用，请注意 API 配额
4. 建议在稳定的网络环境下使用

## 📝 许可证

MIT License
